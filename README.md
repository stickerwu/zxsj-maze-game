# å™©æ¢¦æ½œæ¸Šå¤é¾™é™µè§è¡Œäº‘P2å†…åœºæ¨¡æ‹Ÿå™¨

ğŸ® **P2è¿·å®«æ¨¡æ‹Ÿå™¨** - ä¸€ä¸ªåŸºäº React + Three.js çš„ 3D è¿·å®«æ¸¸æˆï¼Œæ¨¡æ‹Ÿå™©æ¢¦æ½œæ¸Šå¤é¾™é™µè§è¡Œäº‘P2å†…åœºçš„è¿·å®«æŒ‘æˆ˜ã€‚

![æ¸¸æˆæˆªå›¾](https://via.placeholder.com/800x400/1a1a1a/ffffff?text=3D+Maze+Game)

## ğŸŒŸ é¡¹ç›®ç‰¹è‰²

- ğŸ¯ **æ²‰æµ¸å¼3Dä½“éªŒ** - ä½¿ç”¨ Three.js æ„å»ºçš„çœŸå®3Dè¿·å®«ç¯å¢ƒ
- ğŸ® **æµç•…çš„æ¸¸æˆæ§åˆ¶** - WASDç§»åŠ¨ + é¼ æ ‡è§†è§’æ§åˆ¶
- ğŸ—ºï¸ **æ™ºèƒ½å°åœ°å›¾** - å®æ—¶æ˜¾ç¤ºç©å®¶ä½ç½®å’Œè¿·å®«ç»“æ„
- âš¡ **è¿·å®«ç¼–è¾‘å™¨** - å¯è§†åŒ–ç¼–è¾‘å’Œè‡ªå®šä¹‰è¿·å®«å¸ƒå±€
- ğŸ¨ **ç°ä»£åŒ–UI** - åŸºäº Tailwind CSS çš„å“åº”å¼ç•Œé¢
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²** - å®Œæ•´çš„ Docker æ”¯æŒ
- ğŸš€ **è‡ªåŠ¨åŒ–CI/CD** - GitHub Actions è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²

## ğŸ¯ æ¸¸æˆç©æ³•

### ç›®æ ‡
åœ¨3Dè¿·å®«ä¸­æ”¶é›†æ‰€æœ‰çš„çƒä½“é“å…·ï¼Œæ‰¾åˆ°å‡ºå£å®ŒæˆæŒ‘æˆ˜ã€‚

### æ§åˆ¶æ–¹å¼
- **WASD** - è§’è‰²ç§»åŠ¨ï¼ˆåŸºäºè§’è‰²æœå‘ï¼‰
- **é¼ æ ‡å³é”®æ‹–æ‹½** - æ§åˆ¶è§†è§’æ—‹è½¬
- **é¼ æ ‡æ»šè½®** - è°ƒæ•´è§†è§’è·ç¦»
- **å°åœ°å›¾** - æŸ¥çœ‹æ•´ä½“è¿·å®«å¸ƒå±€å’Œå½“å‰ä½ç½®

### æ¸¸æˆç‰¹æ€§
- ğŸ”µ **æ”¶é›†ç³»ç»Ÿ** - æ”¶é›†è¿·å®«ä¸­çš„è“è‰²çƒä½“
- ğŸ“ **èµ·ç‚¹æ ‡è¯†** - 3Dæ–‡å­—æ˜¾ç¤ºæ¸¸æˆèµ·å§‹ä½ç½®
- ğŸ—ºï¸ **å®æ—¶å°åœ°å›¾** - åŠ¨æ€æ˜¾ç¤ºç©å®¶ä½ç½®å’Œå·²æ¢ç´¢åŒºåŸŸ
- âš¡ **æµç•…æ“ä½œ** - 60FPSçš„3Dæ¸²æŸ“ä½“éªŒ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **React** | ^18.3.1 | å‰ç«¯æ¡†æ¶ |
| **TypeScript** | ^5.6.2 | ç±»å‹å®‰å…¨ |
| **Three.js** | ^0.170.0 | 3Då›¾å½¢æ¸²æŸ“ |
| **@react-three/fiber** | ^8.17.10 | React Three.js é›†æˆ |
| **@react-three/drei** | ^9.114.3 | Three.js å·¥å…·åº“ |
| **Vite** | ^5.4.10 | æ„å»ºå·¥å…· |
| **Tailwind CSS** | ^3.4.14 | æ ·å¼æ¡†æ¶ |
| **Zustand** | ^5.0.1 | çŠ¶æ€ç®¡ç† |
| **React Router** | ^6.28.0 | è·¯ç”±ç®¡ç† |

### é¡¹ç›®ç»“æ„

```
zxsj-maze-game/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ GameUI.tsx      # æ¸¸æˆç•Œé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MazeScene.tsx   # 3Dè¿·å®«åœºæ™¯
â”‚   â”‚   â”œâ”€â”€ Player.tsx      # ç©å®¶æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ MiniMap.tsx     # å°åœ°å›¾ç»„ä»¶
â”‚   â”‚   â””â”€â”€ CollectableBalls.tsx # æ”¶é›†é“å…·
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.tsx        # é¦–é¡µ
â”‚   â”‚   â””â”€â”€ MazeEditor.tsx  # è¿·å®«ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ useKeyboardControls.ts # é”®ç›˜æ§åˆ¶
â”‚   â”‚   â””â”€â”€ useTheme.ts     # ä¸»é¢˜ç®¡ç†
â”‚   â”œâ”€â”€ store/              # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ gameStore.ts    # æ¸¸æˆçŠ¶æ€
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ ThreeSceneManager.ts # 3Dåœºæ™¯ç®¡ç†
â”‚   â””â”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚       â””â”€â”€ mazeConfig.ts   # è¿·å®«é…ç½®
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ docker/                 # Dockeré…ç½®
â””â”€â”€ .github/workflows/      # CI/CDé…ç½®
```

### æ ¸å¿ƒæ¶æ„è®¾è®¡

#### 1. 3Dæ¸²æŸ“æ¶æ„
- **ThreeSceneManager** - æ ¸å¿ƒ3Dåœºæ™¯ç®¡ç†å™¨
- **React Three Fiber** - Reactä¸Three.jsçš„æ¡¥æ¢
- **ç»„ä»¶åŒ–3Då¯¹è±¡** - è¿·å®«å¢™ä½“ã€ç©å®¶ã€é“å…·ç­‰ç‹¬ç«‹ç»„ä»¶

#### 2. çŠ¶æ€ç®¡ç†æ¶æ„
- **Zustand Store** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **æ¸¸æˆçŠ¶æ€** - ç©å®¶ä½ç½®ã€æ”¶é›†è¿›åº¦ã€æ¸¸æˆè®¾ç½®
- **è¿·å®«æ•°æ®** - åŠ¨æ€åŠ è½½å’Œç¼–è¾‘çš„è¿·å®«é…ç½®

#### 3. æ§åˆ¶ç³»ç»Ÿæ¶æ„
- **é”®ç›˜äº‹ä»¶å¤„ç†** - WASDç§»åŠ¨æ§åˆ¶
- **é¼ æ ‡äº‹ä»¶å¤„ç†** - è§†è§’æ—‹è½¬å’Œç¼©æ”¾
- **ç¢°æ’æ£€æµ‹** - å¢™ä½“ç¢°æ’å’Œé“å…·æ”¶é›†

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒè¦æ±‚
- **Node.js** >= 18.0.0
- **npm** >= 8.0.0 æˆ– **pnpm** >= 7.0.0
- **Docker** >= 20.0.0 (å¯é€‰)

### å¼€å‘ç¯å¢ƒé…ç½®

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/zxsj-maze-game.git
cd zxsj-maze-game
```

#### 2. å®‰è£…ä¾èµ–
```bash
# ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ pnpm (æ¨è)
pnpm install
```

#### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
# æˆ–
pnpm dev
```

è®¿é—® `http://localhost:5173` å¼€å§‹æ¸¸æˆ

### ç”Ÿäº§ç¯å¢ƒé…ç½®

#### 1. æ„å»ºé¡¹ç›®
```bash
npm run build
# æˆ–
pnpm build
```

#### 2. é¢„è§ˆæ„å»ºç»“æœ
```bash
npm run preview
# æˆ–
pnpm preview
```

### è¿·å®«é…ç½®

è¿·å®«å¸ƒå±€é€šè¿‡ `src/config/mazeConfig.ts` é…ç½®ï¼š

```typescript
export const defaultMazeConfig = {
  width: 10,        // è¿·å®«å®½åº¦
  height: 10,       // è¿·å®«é«˜åº¦
  walls: [...],     // å¢™ä½“ä½ç½®æ•°ç»„
  collectables: [...], // æ”¶é›†é“å…·ä½ç½®
  playerStart: { x: 1, z: 1 }, // ç©å®¶èµ·å§‹ä½ç½®
  exit: { x: 8, z: 8 }         // å‡ºå£ä½ç½®
}
```

## ğŸ³ Docker éƒ¨ç½²

### å¿«é€Ÿå¯åŠ¨

```bash
# ä½¿ç”¨ docker-compose (æ¨è)
docker-compose up -d

# æˆ–ç›´æ¥è¿è¡Œå®¹å™¨
docker run -d -p 9898:9898 --name zxsj-maze-game zxsj-maze-game:latest
```

è®¿é—® `http://localhost:9898` å¼€å§‹æ¸¸æˆ

### è‡ªå®šä¹‰æ„å»º

```bash
# æ„å»ºé•œåƒ
docker build -t zxsj-maze-game:latest .

# è¿è¡Œå®¹å™¨
docker run -d -p 9898:9898 zxsj-maze-game:latest
```

### Dockeré…ç½®è¯´æ˜

- **åŸºç¡€é•œåƒ**: `nginx:alpine`
- **æš´éœ²ç«¯å£**: `9898`
- **é™æ€æ–‡ä»¶**: è‡ªåŠ¨æ„å»ºå¹¶å¤åˆ¶åˆ°Nginx
- **é…ç½®ä¼˜åŒ–**: Gzipå‹ç¼©ã€ç¼“å­˜ç­–ç•¥ã€SPAæ”¯æŒ

## ğŸš€ CI/CD è‡ªåŠ¨åŒ–éƒ¨ç½²

é¡¹ç›®é›†æˆäº† GitHub Actions è‡ªåŠ¨åŒ–å·¥ä½œæµï¼Œæ”¯æŒï¼š

### è‡ªåŠ¨åŒ–æµç¨‹
1. **ä»£ç æ¨é€è§¦å‘** - æ¨é€åˆ° `main` åˆ†æ”¯è‡ªåŠ¨è§¦å‘
2. **ç¯å¢ƒå‡†å¤‡** - è‡ªåŠ¨å®‰è£… Node.js å’Œä¾èµ–
3. **ä»£ç æ£€æŸ¥** - ESLint ä»£ç è´¨é‡æ£€æŸ¥
4. **é¡¹ç›®æ„å»º** - è‡ªåŠ¨æ„å»ºç”Ÿäº§ç‰ˆæœ¬
5. **Dockeræ„å»º** - è‡ªåŠ¨æ„å»ºDockeré•œåƒ
6. **é•œåƒæ¨é€** - æ¨é€åˆ° Docker Hub
7. **éƒ¨ç½²é€šçŸ¥** - æ„å»ºç»“æœé€šçŸ¥

### é…ç½®è¦æ±‚

åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹ Secretsï¼š

```
DOCKER_HUB_USERNAME=your-dockerhub-username
DOCKER_HUB_ACCESS_TOKEN=your-dockerhub-token
```

### å·¥ä½œæµæ–‡ä»¶

è¯¦ç»†é…ç½®è¯·æŸ¥çœ‹ `.github/workflows/docker-deploy.yml`

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°è¿·å®«

1. åœ¨ `src/config/mazeConfig.ts` ä¸­å®šä¹‰æ–°çš„è¿·å®«é…ç½®
2. ä½¿ç”¨è¿·å®«ç¼–è¾‘å™¨å¯è§†åŒ–ç¼–è¾‘
3. å¯¼å‡ºé…ç½®æ–‡ä»¶å¹¶ä¿å­˜

### è‡ªå®šä¹‰æ¸¸æˆå…ƒç´ 

1. **æ·»åŠ æ–°é“å…·** - åœ¨ `CollectableBalls.tsx` ä¸­æ‰©å±•
2. **ä¿®æ”¹ç©å®¶æ¨¡å‹** - ç¼–è¾‘ `Player.tsx` ç»„ä»¶
3. **è°ƒæ•´æ¸¸æˆè§„åˆ™** - ä¿®æ”¹ `gameStore.ts` çŠ¶æ€é€»è¾‘

### æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨ `React.memo` ä¼˜åŒ–ç»„ä»¶æ¸²æŸ“
- åˆç†ä½¿ç”¨ Three.js çš„ `instancedMesh` æ‰¹é‡æ¸²æŸ“
- å¯ç”¨ Vite çš„ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [Three.js](https://threejs.org/) - å¼ºå¤§çš„3Då›¾å½¢åº“
- [React Three Fiber](https://github.com/pmndrs/react-three-fiber) - Reactä¸Three.jsçš„å®Œç¾ç»“åˆ
- [Vite](https://vitejs.dev/) - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨çš„CSSæ¡†æ¶

---

**ğŸ® å¼€å§‹ä½ çš„è¿·å®«å†’é™©ä¹‹æ—…å§ï¼**
